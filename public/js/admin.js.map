{"version":3,"sources":["config.js","LoginController.js","RegistrationController.js","helpers.js","auth.js","login.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin.js","sourcesContent":["(function () {\n    'use strict';\n    \n    var app = angular.module('adminApp', []);\n\n    app.config(function($interpolateProvider){\n        $interpolateProvider.startSymbol('[[').endSymbol(']]');\n    });\n\n    var csrf_token = $('meta[name=\"csrf-token\"]').attr('content');\n\n    $.ajaxPrefilter(function(options){\n        if (options.type.toLowerCase() === \"post\") {\n            options.data += options.data?\"&\":\"\";\n            options.data += \"_token=\" + csrf_token;\n        }\n    });\n\n}());","(function () {\n    'use strict';\n\n    var app = angular.module('adminApp');\n\n    app.controller('LoginController', function($scope){\n        \n        $scope.loginAdmin = function(){\n            var dataForm = {\n                'email' : $scope.email,\n                'password' : $scope.password,\n            };\n        };\n\n        $scope.registration = function(){\n            window.location = \"admin/registration\";\n        };\n    });\n}());","(function () {\n    'use strict';\n\n    var app = angular.module('adminApp');\n\n    app.controller('RegistrationController', ['$scope','auth',function($scope,auth){\n\n        var messageSended = function(response){\n            helpers.clearErrors().clearForm();\n            if(response.status === 'success'){\n               console.log(response);      \n            } \n        };\n\n        // Show error\n        var messageSendError = function (reason) {\n            if(reason.status === 422){\n                helpers.addErrorsForm(reason.responseJSON);\n            }\n            \n        }; \n        \n        $scope.registrationAdmin = function(){\n            var dataForm = {\n                'email' : $scope.email,\n                'password' : $scope.password,\n                'password_confirmation' : $scope.password_confirmation,\n                'firstname' : $scope.firstname,\n                'lastname' : $scope.lastname,\n            };\n\n            $.when( auth.registration(dataForm) ).then(messageSended,messageSendError);\n        }; \n\n    }]);\n}());","var helpers = {\n\n    addErrorsForm: function(errors){\n        helpers.clearErrors();\n\n        $.each(errors, function(field, error){\n            \n            $.each(error,function(index, error_text){\n                    $('.form-group-container-' + field + ' .form-control-error').append('<span>' + error_text + '</span>');\n            });\n\n        });\n\n        return this;\n    },\n\n    clearErrors: function(){\n        $('.form-control-error').html('');\n\n        return this;\n    },\n\n    clearForm: function(){\n        $('input', '.form-app').val('').removeAttr('checked').removeAttr('selected');\n\n        return this;\n    }\n\n};","(function() {\n    var auth = function(){\n\n        var registration = function(dataForm){\n            var deffered = $.Deferred();\n\n            $.ajax({\n                method: 'POST',\n                data: dataForm,\n                url: '/admin/registration'\n            })\n            .success(function (response) {\n                deffered.resolve(response);\n            })\n            .error(function (reason) {\n                deffered.reject(reason);\n            });\n                \n            return deffered.promise();\n\n        };\n\n        return {\n            registration : registration,\n        };\n    }\n\n    /**\n    * Register service\n    */\n    var module = angular.module('adminApp');\n        module.factory('auth', auth);\n\n}());","$(function () {\n    $('input').iCheck({\n        checkboxClass: 'icheckbox_square-blue',\n        radioClass: 'iradio_square-blue',\n        increaseArea: '20%' // optional\n    });\n});\n"],"sourceRoot":"/source/"}